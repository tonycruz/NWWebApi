[
  {
    "id": 10,
    "accordionName": "accordionProductsCode",
    "title": "HTML View",
    "hrefName": "17c015bd-1ba4-4b6a-a4aa-6ecf28366727",
    "href": "#17c015bd-1ba4-4b6a-a4aa-6ecf28366727",
    "fileLocation": "Folder \\products\\products.html",
    "fileContent": "&lt;template&gt;\n     &lt;section&gt;\n        &lt;div class=&quot;col-md-4&quot;&gt;\n            &lt;div class=&quot;panel panel-default&quot;&gt;\n                &lt;div class=&quot;panel-heading&quot;&gt;\n                    &lt;div class=&quot;panel-title&quot;&gt;\n                        &lt;h5&gt; Products&lt;/h5&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n                &lt;div class=&quot;panel-body&quot;&gt;\n                    &lt;div class=&quot;input-group&quot;&gt;\n                        &lt;input type=&quot;text&quot; value.bind=&quot;datasource.searchCriteria&quot; keyup.delegate=&quot;onKeyUp($event)&quot;\n                               class=&quot;form-control&quot; placeholder=&quot;Product Name&quot;&gt;\n                        &lt;div class=&quot;input-group-btn&quot;&gt;\n                            &lt;button type=&quot;button&quot; class=&quot;btn btn-success&quot; tabindex=&quot;-1&quot;\n                                    click.trigger=&quot;searchAll()&quot;&gt;\n                                Search\n                            &lt;/button&gt;\n                            &lt;button type=&quot;button&quot; class=&quot;btn btn-success dropdown-toggle&quot; data-toggle=&quot;dropdown&quot; tabindex=&quot;-1&quot;&gt;\n                                &lt;span class=&quot;caret&quot;&gt;&lt;/span&gt;\n                                &lt;span class=&quot;sr-only&quot;&gt;Toggle Dropdown&lt;/span&gt;\n                            &lt;/button&gt;\n                            &lt;ul class=&quot;dropdown-menu pull-right&quot;&gt;&lt;/ul&gt;\n                        &lt;/div&gt;&lt;!-- /btn-group --&gt;\n\n                    &lt;/div&gt;&lt;!-- /input-group --&gt;\n                    &lt;br /&gt;\n                    &lt;table class=&quot;table table-condensed table-responsive&quot;&gt;\n                        &lt;thead&gt;\n                            &lt;tr&gt;\n                                &lt;td&gt;Product Name&lt;/td&gt;\n                            &lt;/tr&gt;\n                        &lt;/thead&gt;\n                        &lt;tbody&gt;\n                            &lt;tr repeat.for=&quot;product of  datasource.displaySource&quot;&gt;\n                                &lt;td&gt;&lt;a href=&quot;#&quot; click.delegate=&quot;$parent.itemChange(product)&quot;&gt;${product.productName}&lt;/a&gt;&lt;/td&gt;\n                            &lt;/tr&gt;\n                        &lt;/tbody&gt;\n                    &lt;/table&gt;\n                    &lt;!--&lt;compose view-model=&quot;../modules/data-source&quot; model.bind=&quot;datasource&quot;&gt;&lt;/compose&gt;--&gt;\n\n                    &lt;data-source source.bind=&quot;datasource&quot; click.delegate=&quot;itemChange(datasource.currentRecord)&quot;&gt;&lt;/data-source&gt;\n\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;col-md-8&quot;&gt;\n            &lt;div class=&quot;panel panel-default&quot;&gt;\n                &lt;div class=&quot;panel-heading&quot;&gt;\n                    &lt;div class=&quot;panel-title&quot;&gt;\n                        &lt;h5&gt;Product Details&lt;/h5&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n                &lt;div class=&quot;panel-body&quot;&gt;\n                    &lt;form class=&quot;form-horizontal&quot; validate.bind=&quot;currentProducts.validation&quot; id=&quot;formProduct&quot; role=&quot;form&quot; submit.trigger=&quot;saveProduct()&quot;&gt;\n                        &lt;div&gt;\n                            &lt;div&gt;\n                                &lt;div class=&quot;form-group&quot;&gt;\n                                    &lt;label for=&quot;ProductID&quot; class=&quot;control-label col-md-3&quot;&gt;Product ID&lt;/label&gt;\n                                    &lt;div class=&quot;col-md-6&quot;&gt;\n                                        &lt;input type=&quot;text&quot; value.bind=&quot;currentProducts.productID&quot; readonly id=&quot;ProductID&quot; name=&quot;ProductID&quot; class=&quot;form-control&quot; title=&quot;ProductID&quot; placeholder=&quot;ProductID&quot; /&gt;\n                                    &lt;/div&gt;\n                                &lt;/div&gt;\n                                &lt;div class=&quot;form-group&quot;&gt;\n                                    &lt;label for=&quot;ProductName&quot; class=&quot;control-label col-md-3&quot;&gt;Product Name&lt;/label&gt;\n                                    &lt;div class=&quot;col-md-6&quot;&gt;\n                                        &lt;input type=&quot;text&quot; value.bind=&quot;currentProducts.productName&quot; id=&quot;ProductName&quot; name=&quot;ProductName&quot; class=&quot;form-control&quot; validate=&quot;productName&quot; title=&quot;ProductName&quot; placeholder=&quot;ProductName&quot; /&gt;\n                                    &lt;/div&gt;\n                                &lt;/div&gt;\n                                &lt;div class=&quot;form-group&quot;&gt;\n                                    &lt;label for=&quot;SupplierID&quot; class=&quot;control-label col-md-3&quot;&gt;Supplier&lt;/label&gt;\n                                    &lt;div class=&quot;col-md-6&quot;&gt;\n                                        &lt;!--&lt;input type=&quot;text&quot; value.bind=&quot;currentProducts.SupplierID&quot; id=&quot;SupplierID&quot; name=&quot;SupplierID&quot; class=&quot;form-control&quot; title=&quot;SupplierID&quot; placeholder=&quot;SupplierID&quot; /&gt;--&gt;\n                                        &lt;select id=&quot;selectedSupplier&quot; class=&quot;form-control&quot; value.bind=&quot;currentProducts.supplierID&quot;&gt;\n                                            &lt;option repeat.for=&quot;supp of suppliers&quot; model.bind=&quot;supp.supplierID&quot;&gt;${supp.companyName}&lt;/option&gt;\n                                        &lt;/select&gt;\n                                        &lt;!--&lt;select id=&quot;selectedCategoryID&quot; class=&quot;form-control&quot; value.bind=&quot;options: $parent.productModel.suppliers, optionsText: &#39;companyName&#39;, optionsValue: &#39;supplierID&#39;, value: supplierID, optionsCaption: &#39;Supplier...&#39;&quot;&gt;&lt;/select&gt;--&gt;\n                                    &lt;/div&gt;\n                                &lt;/div&gt;\n                                &lt;div class=&quot;form-group&quot;&gt;\n                                    &lt;label for=&quot;CategoryID&quot; class=&quot;control-label col-md-3&quot;&gt;Category&lt;/label&gt;\n                                    &lt;div class=&quot;col-md-6&quot;&gt;\n                                        &lt;select id=&quot;selectedcategory&quot; class=&quot;form-control&quot; value.bind=&quot;currentProducts.categoryID&quot;&gt;\n                                            &lt;option repeat.for=&quot;cat of categories&quot; model.bind=&quot;cat.categoryID&quot;&gt;${cat.categoryName}&lt;/option&gt;\n                                        &lt;/select&gt;\n                                           \n                                      &lt;/div&gt;\n                                &lt;/div&gt;\n                                &lt;div class=&quot;form-group&quot;&gt;\n                                    &lt;label for=&quot;QuantityPerUnit&quot; class=&quot;control-label col-md-3&quot;&gt;Quantity Per Unit&lt;/label&gt;\n                                    &lt;div class=&quot;col-md-6&quot;&gt;\n                                        &lt;input type=&quot;text&quot; value.bind=&quot;currentProducts.quantityPerUnit&quot; validate=&quot;quantityPerUnit&quot; id=&quot;QuantityPerUnit&quot; name=&quot;QuantityPerUnit&quot; class=&quot;form-control&quot; title=&quot;QuantityPerUnit&quot; placeholder=&quot;QuantityPerUnit&quot; /&gt;\n                                    &lt;/div&gt;\n                                &lt;/div&gt;\n                                &lt;div class=&quot;form-group&quot;&gt;\n                                    &lt;label for=&quot;UnitPrice&quot; class=&quot;control-label col-md-3&quot;&gt;Unit Price&lt;/label&gt;\n                                    &lt;div class=&quot;col-md-6&quot;&gt;\n                                        &lt;input type=&quot;text&quot; value.bind=&quot;currentProducts.unitPrice&quot; id=&quot;UnitPrice&quot; validate=&quot;unitPrice&quot; name=&quot;UnitPrice&quot; class=&quot;form-control&quot; title=&quot;UnitPrice&quot; placeholder=&quot;UnitPrice&quot; /&gt;\n                                    &lt;/div&gt;\n                                &lt;/div&gt;\n                                &lt;div class=&quot;form-group&quot;&gt;\n                                    &lt;label for=&quot;UnitsInStock&quot; class=&quot;control-label col-md-3&quot;&gt;Units In Stock&lt;/label&gt;\n                                    &lt;div class=&quot;col-md-6&quot;&gt;\n                                        &lt;input type=&quot;text&quot; value.bind=&quot;currentProducts.unitsInStock&quot; validate=&quot;unitsInStock&quot; id=&quot;UnitsInStock&quot; name=&quot;UnitsInStock&quot; class=&quot;form-control&quot; title=&quot;UnitsInStock&quot; placeholder=&quot;UnitsInStock&quot; /&gt;\n                                    &lt;/div&gt;\n                                &lt;/div&gt;\n                                &lt;div class=&quot;form-group&quot;&gt;\n                                    &lt;label for=&quot;UnitsOnOrder&quot; class=&quot;control-label col-md-3&quot;&gt;Units On Order&lt;/label&gt;\n                                    &lt;div class=&quot;col-md-6&quot;&gt;\n                                        &lt;input type=&quot;text&quot; value.bind=&quot;currentProducts.unitsOnOrder&quot; validate=&quot;unitsOnOrder&quot; id=&quot;UnitsOnOrder&quot; name=&quot;UnitsOnOrder&quot; class=&quot;form-control&quot; title=&quot;UnitsOnOrder&quot; placeholder=&quot;UnitsOnOrder&quot; /&gt;\n                                    &lt;/div&gt;\n                                &lt;/div&gt;\n                                &lt;div class=&quot;form-group&quot;&gt;\n                                    &lt;label for=&quot;ReorderLevel&quot; class=&quot;control-label col-md-3&quot;&gt;Reorder Level&lt;/label&gt;\n                                    &lt;div class=&quot;col-md-6&quot;&gt;\n                                        &lt;input type=&quot;text&quot; value.bind=&quot;currentProducts.reorderLevel&quot; validate=&quot;reorderLevel&quot; id=&quot;ReorderLevel&quot; name=&quot;ReorderLevel&quot; class=&quot;form-control&quot; title=&quot;ReorderLevel&quot; placeholder=&quot;ReorderLevel&quot; /&gt;\n                                    &lt;/div&gt;\n                                &lt;/div&gt;\n                                &lt;div class=&quot;col-sm-offset-3 col-sm-3&quot;&gt;\n                                    &lt;input type=&quot;checkbox&quot; checked.bind=&quot;currentProducts.discontinued&quot; id=&quot;change-color-switch&quot; data-animated=&quot;true&quot; /&gt;\n                                &lt;/div&gt;\n\n                            &lt;/div&gt;\n                            &lt;br /&gt;\n                            &lt;br /&gt;\n                            &lt;div class=&quot;form-group&quot;&gt;\n                              \n                                &lt;div class=&quot;col-md-6 col-md-offset-3&quot;&gt;\n                                    &lt;a class=&quot;btn btn-primary&quot; click.trigger=&quot;showAddNewModal()&quot;&gt;&lt;span class=&quot;fa fa-plus&quot;&gt; &lt;/span&gt; Add New&lt;/a&gt;\n                                    &lt;!--&lt;a class=&quot;btn btn-primary&quot; style=&quot;margin-left:15px&quot; click.trigger=&quot;saveProduct()&quot;&gt;&lt;span class=&quot;glyphicon glyphicon-floppy-save&quot;&gt; &lt;/span&gt; Save&lt;/a&gt;--&gt;\n                                    &lt;input type=&quot;submit&quot; value=&quot;Save product&quot; style=&quot;margin-left:15px&quot; disabled.bind=&quot;!currentProducts.validation.result.isValid&quot; class=&quot;btn btn-primary&quot;&gt;\n                                    &lt;a class=&quot;btn btn-danger&quot; style=&quot;margin-left:15px&quot; click.trigger=&quot;showDeleteModal()&quot;&gt;&lt;span class=&quot;fa fa-trash-o&quot;&gt; &lt;/span&gt; Delete&lt;/a&gt;\n                                &lt;/div&gt;\n                            &lt;/div&gt;\n                          \n                        &lt;/div&gt;\n                    &lt;/form&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/section&gt;\n    &lt;!--Main Panel ends here --&gt;\n    &lt;!--confirm Delete Product Modal starts here --&gt;\n    &lt;div id=&quot;confirmDeleteProductModal&quot; class=&quot;modal&quot;&gt;\n        &lt;div class=&quot;modal-dialog&quot;&gt;\n            &lt;div class=&quot;modal-content&quot;&gt;\n                &lt;div class=&quot;modal-header&quot;&gt;\n                    &lt;h3&gt;Confirm Delete&lt;/h3&gt;\n                &lt;/div&gt;\n                &lt;div class=&quot;modal-body&quot;&gt;\n                    &lt;span&gt;Product To Delete&lt;/span&gt; &lt;span&gt;${currentProducts.productName}&lt;/span&gt;\n                    &lt;p&gt;Deleting this item cannon be undone.  Are you sure?&lt;/p&gt;\n                &lt;/div&gt;\n                &lt;div class=&quot;modal-footer&quot;&gt;\n                    &lt;button class=&quot;btn&quot; data-dismiss=&quot;modal&quot;&gt;Close&lt;/button&gt;\n                    &lt;button class=&quot;btn btn-danger&quot; click.delegate=&quot;deleteProduct()&quot;&gt;Delete&lt;/button&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;!--confirm Delete Product Modal ends here --&gt;\n    &lt;!--Add new Product Modal--&gt;\n    &lt;div id=&quot;confirmAddNewProductModal&quot; class=&quot;modal&quot;&gt;\n        &lt;div class=&quot;modal-dialog&quot;&gt;\n            &lt;div class=&quot;modal-content&quot;&gt;\n                &lt;div class=&quot;modal-header&quot;&gt;\n                    &lt;h3&gt;Confirm New Product&lt;/h3&gt;\n                &lt;/div&gt;\n                &lt;div class=&quot;modal-body&quot;&gt;\n                    &lt;form class=&quot;form-horizontal&quot; validate.bind=&quot;newProduct.validation&quot; id=&quot;formNewProduct&quot; role=&quot;form&quot; submit.trigger=&quot;saveNewProduct()&quot;&gt;\n                        &lt;div&gt;\n                            &lt;div&gt;\n                                &lt;div class=&quot;form-group&quot;&gt;\n                                    &lt;label for=&quot;ProductName&quot; class=&quot;control-label col-md-3&quot;&gt;Product Name&lt;/label&gt;\n                                    &lt;div class=&quot;col-md-6&quot;&gt;\n                                        &lt;input type=&quot;text&quot; value.bind=&quot;newProduct.productName&quot; id=&quot;ProductName&quot; required name=&quot;ProductName&quot; class=&quot;form-control&quot; validate=&quot;productName&quot; title=&quot;ProductName&quot; placeholder=&quot;ProductName&quot; /&gt;\n                                    &lt;/div&gt;\n                                &lt;/div&gt;\n                                &lt;div class=&quot;form-group&quot;&gt;\n                                    &lt;label for=&quot;SupplierID&quot; class=&quot;control-label col-md-3&quot;&gt;Supplier&lt;/label&gt;\n                                    &lt;div class=&quot;col-md-6&quot;&gt;\n                                        &lt;!--&lt;input type=&quot;text&quot; value.bind=&quot;newProduct.SupplierID&quot; id=&quot;SupplierID&quot; name=&quot;SupplierID&quot; class=&quot;form-control&quot; title=&quot;SupplierID&quot; placeholder=&quot;SupplierID&quot; /&gt;--&gt;\n                                        &lt;select id=&quot;selectedSupplier&quot; class=&quot;form-control&quot; value.bind=&quot;newProduct.supplierID&quot;&gt;\n                                            &lt;option repeat.for=&quot;supp of suppliers&quot; model.bind=&quot;supp.supplierID&quot;&gt;${supp.companyName}&lt;/option&gt;\n                                        &lt;/select&gt;\n                                        &lt;!--&lt;select id=&quot;selectedCategoryID&quot; class=&quot;form-control&quot; value.bind=&quot;options: $parent.productModel.suppliers, optionsText: &#39;companyName&#39;, optionsValue: &#39;supplierID&#39;, value: supplierID, optionsCaption: &#39;Supplier...&#39;&quot;&gt;&lt;/select&gt;--&gt;\n                                    &lt;/div&gt;\n                                &lt;/div&gt;\n                                &lt;div class=&quot;form-group&quot;&gt;\n                                    &lt;label for=&quot;CategoryID&quot; class=&quot;control-label col-md-3&quot;&gt;Category&lt;/label&gt;\n                                    &lt;div class=&quot;col-md-6&quot;&gt;\n                                        &lt;select id=&quot;selectedcategory&quot; class=&quot;form-control&quot; value.bind=&quot;newProduct.categoryID&quot;&gt;\n                                            &lt;option repeat.for=&quot;cat of categories&quot; model.bind=&quot;cat.categoryID&quot;&gt;${cat.categoryName}&lt;/option&gt;\n                                        &lt;/select&gt;\n\n                                    &lt;/div&gt;\n                                &lt;/div&gt;\n                                &lt;div class=&quot;form-group&quot;&gt;\n                                    &lt;label for=&quot;QuantityPerUnit&quot; class=&quot;control-label col-md-3&quot;&gt;Quantity Per Unit&lt;/label&gt;\n                                    &lt;div class=&quot;col-md-6&quot;&gt;\n                                        &lt;input type=&quot;text&quot; value.bind=&quot;newProduct.quantityPerUnit&quot; required validate=&quot;quantityPerUnit&quot; id=&quot;QuantityPerUnit&quot; name=&quot;QuantityPerUnit&quot; class=&quot;form-control&quot; title=&quot;QuantityPerUnit&quot; placeholder=&quot;QuantityPerUnit&quot; /&gt;\n                                    &lt;/div&gt;\n                                &lt;/div&gt;\n                                &lt;div class=&quot;form-group&quot;&gt;\n                                    &lt;label for=&quot;UnitPrice&quot; class=&quot;control-label col-md-3&quot;&gt;Unit Price&lt;/label&gt;\n                                    &lt;div class=&quot;col-md-6&quot;&gt;\n                                        &lt;input type=&quot;text&quot; value.bind=&quot;newProduct.unitPrice&quot; id=&quot;UnitPrice&quot; required validate=&quot;unitPrice&quot; name=&quot;UnitPrice&quot; class=&quot;form-control&quot; title=&quot;UnitPrice&quot; placeholder=&quot;UnitPrice&quot; /&gt;\n                                    &lt;/div&gt;\n                                &lt;/div&gt;\n                                &lt;div class=&quot;form-group&quot;&gt;\n                                    &lt;label for=&quot;UnitsInStock&quot; class=&quot;control-label col-md-3&quot;&gt;Units In Stock&lt;/label&gt;\n                                    &lt;div class=&quot;col-md-6&quot;&gt;\n                                        &lt;input type=&quot;text&quot; value.bind=&quot;newProduct.unitsInStock&quot; validate=&quot;unitsInStock&quot; required id=&quot;UnitsInStock&quot; name=&quot;UnitsInStock&quot; class=&quot;form-control&quot; title=&quot;UnitsInStock&quot; placeholder=&quot;UnitsInStock&quot; /&gt;\n                                    &lt;/div&gt;\n                                &lt;/div&gt;\n                                &lt;div class=&quot;form-group&quot;&gt;\n                                    &lt;label for=&quot;UnitsOnOrder&quot; class=&quot;control-label col-md-3&quot;&gt;Units On Order&lt;/label&gt;\n                                    &lt;div class=&quot;col-md-6&quot;&gt;\n                                        &lt;input type=&quot;text&quot; value.bind=&quot;newProduct.unitsOnOrder&quot; validate=&quot;unitsOnOrder&quot; id=&quot;UnitsOnOrder&quot; name=&quot;UnitsOnOrder&quot; class=&quot;form-control&quot; title=&quot;UnitsOnOrder&quot; placeholder=&quot;UnitsOnOrder&quot; /&gt;\n                                    &lt;/div&gt;\n                                &lt;/div&gt;\n                                &lt;div class=&quot;form-group&quot;&gt;\n                                    &lt;label for=&quot;ReorderLevel&quot; class=&quot;control-label col-md-3&quot;&gt;Reorder Level&lt;/label&gt;\n                                    &lt;div class=&quot;col-md-6&quot;&gt;\n                                        &lt;input type=&quot;text&quot; value.bind=&quot;newProduct.reorderLevel&quot; validate=&quot;reorderLevel&quot; id=&quot;ReorderLevel&quot; name=&quot;ReorderLevel&quot; class=&quot;form-control&quot; title=&quot;ReorderLevel&quot; placeholder=&quot;ReorderLevel&quot; /&gt;\n                                    &lt;/div&gt;\n                                &lt;/div&gt;\n                                &lt;div class=&quot;col-sm-offset-3 col-sm-3&quot;&gt;\n                                    &lt;input type=&quot;checkbox&quot; checked.bind=&quot;newProduct.discontinued&quot; id=&quot;change-color-switch&quot; data-animated=&quot;true&quot; /&gt;\n                                &lt;/div&gt;\n\n                            &lt;/div&gt;\n                            &lt;br /&gt;\n                            &lt;br /&gt;\n                            &lt;div class=&quot;form-group&quot;&gt;\n\n                                &lt;div class=&quot;form-group&quot;&gt;\n                                    &lt;div class=&quot;col-md-6 col-md-offset-3&quot;&gt;\n                                        &lt;input type=&quot;submit&quot; value=&quot;Save New Product&quot; disabled.bind=&quot;!newProduct.validation.result.isValid&quot; class=&quot;btn btn-primary btn-lg&quot;&gt;\n                                    &lt;/div&gt;\n                                &lt;/div&gt;\n                            &lt;/div&gt;\n\n                        &lt;/div&gt;\n                    &lt;/form&gt;\n                &lt;/div&gt;\n                &lt;div class=&quot;modal-footer&quot;&gt;\n                    &lt;button class=&quot;btn&quot; data-dismiss=&quot;modal&quot;&gt;Close&lt;/button&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n&lt;/template&gt;\n",
    "group": "language-markup"
  },
  {
    "id": 11,
    "accordionName": "accordionProductsCode",
    "title": "View Model",
    "hrefName": "6f23724a-ff96-4828-bc32-2cccd03ffd89",
    "href": "#6f23724a-ff96-4828-bc32-2cccd03ffd89",
    "fileLocation": "Folder \\views\\products\\products.js",
    "fileContent": "import {inject} from &quot;aurelia-framework&quot;;\nimport {Validation} from &#39;aurelia-validation&#39;;\nimport {SourceManager} from &quot;../modules/SourceManager&quot;;\nimport {ProductsDataContext} from &quot;./productsDataContext&quot;;\nimport {ProductInfo} from &quot;./productInfo&quot;;\nimport _ from &#39;lodash&#39;;\n\n@inject(ProductsDataContext, SourceManager, Validation)\nexport class Products {\n    title;\n    categories;\n    suppliers;\n    showing;\n    newProduct; \n    currentProducts;\n    constructor(dataContext,\n                datasource,\n                validation) {\n        this.title = &quot;List Prodcuts&quot;;\n        this.datasource = new SourceManager(12);\n        this.dataContext = dataContext;\n        this.validation = validation;\n    }\n    activate() {\n        return this.dataContext.getAll()\n            .then(result =&gt; {\n                this.datasource.pageInit(result.products);\n                this.categories = result.categories;\n                this.suppliers = result.suppliers;\n                this.itemChange(this.datasource.currentRecord);\n        });\n    }\n    onKeyUp(ev) {\n        if (ev.keyCode === 13) {\n            this.searchAll();\n        }\n    }\n   \n    searchAll() {\n\n        if (this.datasource.searchCriteria !== &quot;&quot;) {\n            var filter = this.datasource.searchCriteria.trim().toLowerCase();\n            var productsResults = _.filter(this.datasource.sourceCache,\n                function (prod) {\n                    return _.includes(prod.productName.trim().toLowerCase(),\n                        filter.trim().toLowerCase());\n                });\n            this.datasource.pageSearch(productsResults);\n        } else {\n            this.datasource.pageInit(this.datasource.sourceCache);\n        }\n    }\n    saveProduct() {\n        this.currentProducts.validation.validate().then(() =&gt; {\n              var updateProducts = ProductInfo.toJson(this.currentProducts);\n              this.dataContext.update(updateProducts)\n              .then(pro=&gt; {\n                     pro = pro;\n                     toastr.success(updateProducts.productName + &quot; Saved&quot;, &quot;Products&quot;);\n                  });\n        });\n   }\n    itemChange(item) {\n        this.datasource.selectedRecord(item);\n        this.currentProducts = item;\n        //this.currentProducts.validation = this.validation;\n        ProductInfo.Validate(this.currentProducts, this.validation);\n    }\n    /* modals */\n    showDeleteModal() {     \n       $(&quot;#confirmDeleteProductModal&quot;).modal(&#39;show&#39;);\n    }\n    deleteProduct() {\n        var product = this.datasource.currentRecord;\n        return this.dataContext.deleteProduct(product.productID)\n            .then(deleteProduct =&gt; {\n                deleteProduct = deleteProduct;\n                toastr.warning(product.productName + &quot; Deleted&quot;, &quot;Customer&quot;);\n                this.refreshDelete(product.productID);\n            });\n    }\n    closeModal() {\n        this.showing = false;\n    }\n   \n    showAddNewModal() {\n        this.newProduct = new ProductInfo();\n        this.newProduct.productName = &quot;&quot;;\n        this.newProduct.quantityPerUnit = &quot;10 boxes x 20 bags&quot;,\n        this.newProduct.reorderLevel = 5;\n        ProductInfo.Validate(this.newProduct, this.validation);\n\n        $(&quot;#confirmAddNewProductModal&quot;).modal(&#39;show&#39;);\n    }\n    closeAddnewModal() {\n        this.showing = false;\n    }\n    saveNewProduct() {\n        this.newProduct.validation.validate().then(() =&gt; {\n            var saveNew = ProductInfo.toJson(this.newProduct);\n            this.dataContext.save(saveNew)\n               .then(product =&gt; {\n               product = product; this.refresh(product);\n               toastr.success(product.productName + &quot; Save new&quot;, &quot;Products&quot;);\n               })\n        });\n     \n    }\n    refresh(product) {\n        this.datasource.dataSource.push(product);\n        this.datasource.firstPage();\n        $(&quot;#confirmAddNewProductModal&quot;).modal(&#39;hide&#39;);\n    }\n    refreshDelete(id) {\n        var deleteIndex = _.findIndex(this.datasource.sourceCache,\n            function (prod) {\n                return prod.productID == id;\n            });\n        this.datasource.sourceCache.splice(deleteIndex, 1);\n        this.datasource.pageInit(this.datasource.sourceCache);\n        this.datasource.firstPage();\n        this.itemChange(this.datasource.currentRecord);\n        $(&quot;#confirmDeleteProductModal&quot;).modal(&#39;hide&#39;);\n    }\n} ",
    "group": "language-javascript"
  },
  {
    "id": 12,
    "accordionName": "accordionProductsCode",
    "title": "products Info",
    "hrefName": "a37ab44d-6106-4b6c-9fde-b451c390ab01",
    "href": "#a37ab44d-6106-4b6c-9fde-b451c390ab01",
    "fileLocation": "Folder \\products\\productsInfo.js",
    "fileContent": "export class ProductInfo {\n    constructor(){\n    this.productID = 0;\n    this.productName=&quot;&quot;;\n    this.supplierID = 1;\n    this.categoryID = 1;\n    this.quantityPerUnit = &quot;&quot;;\n    this.unitPrice = 0;\n    this.unitsInStock = 0;\n    this.unitsOnOrder = 0;\n    this.reorderLevel = 5;\n    this.discontinued = false;\n    this.validation;\n    }\n    static toJson(prod) {\n        return {\n            &quot;productID&quot;: prod.productID,\n            &quot;productName&quot;: prod.productName,\n            &quot;supplierID&quot;: prod.supplierID,\n            &quot;categoryID&quot;: prod.categoryID,\n            &quot;quantityPerUnit&quot;: prod.quantityPerUnit,\n            &quot;unitPrice&quot;: prod.unitPrice,\n            &quot;unitsInStock&quot;: prod.unitsInStock,\n            &quot;unitsOnOrder&quot;: prod.unitsOnOrder,\n            &quot;reorderLevel&quot;: prod.reorderLevel,\n            &quot;discontinued&quot;: prod.discontinued\n        }\n    }\n    static Validate(prod, validation) {\n        prod.validation = validation.on(prod)\n            .ensure(&quot;productName&quot;)\n                .isNotEmpty()\n                .hasMaxLength(60)\n            .ensure(&quot;quantityPerUnit&quot;)\n                .hasMaxLength(20)\n            .ensure(&quot;unitPrice&quot;)\n                .isNotEmpty()\n                .isNumber()\n                .isGreaterThan(0)\n            .ensure(&quot;unitsInStock&quot;)\n                .isNotEmpty()\n                .isNumber()\n                .isGreaterThanOrEqualTo(0)\n            .ensure(&quot;unitsOnOrder&quot;)\n                .isNotEmpty()\n                .isNumber()\n                .isGreaterThanOrEqualTo(0)\n            .ensure(&quot;reorderLevel&quot;)\n                .isNotEmpty()\n                .isNumber()\n                .isGreaterThanOrEqualTo(0)\n    }\n\n}",
    "group": "language-javascript"
  },
  {
    "id": 8,
    "accordionName": "accordionProductsCode",
    "title": "Data Context",
    "hrefName": "eee94370-e959-4457-9489-e08219e27572",
    "href": "#eee94370-e959-4457-9489-e08219e27572",
    "fileLocation": "Folder \\products\\productsDataContext.js",
    "fileContent": "import {inject} from &quot;aurelia-framework&quot;;\nimport {ContextBaseFetch} from &quot;../modules/contextBaseFetch&quot;;\nimport {AppConstants} from &quot;../modules/appConstants&quot;;\n\n@inject(ContextBaseFetch)\nexport class ProductsDataContext {\n   apiUrl = AppConstants.urlBase +&quot;ProductsApi&quot;; \n    constructor(context) {\n        this.context = context;\n         this.context.apiName = this.apiUrl;\n    }\n    getAll() {\n        this.context.apiName = this.apiUrl;\n        return this.context.getAll();\n    }\n    getById(id) {\n        this.context.apiName = this.apiUrl;\n        return this.context.getById(id);\n    }\n    deleteProduct(id) {\n        this.context.apiName = this.apiUrl;\n        return this.context.deleteByID(id);\n    }\n    update(product) {\n        this.context.apiName = this.apiUrl;\n        return this.context.update(product);\n    }\n    save(product) {\n        this.context.apiName = this.apiUrl;\n        return this.context.save(product);\n    }\n}",
    "group": "language-javascript"
  },
  {
    "id": 9,
    "accordionName": "accordionProductsCode",
    "title": "Source Manager",
    "hrefName": "3425ba44-9be0-4595-9561-c62463dfee3f",
    "href": "#3425ba44-9be0-4595-9561-c62463dfee3f",
    "fileLocation": "Folder \\modules\\SourceManager.js",
    "fileContent": "import {inject} from &quot;aurelia-framework&quot;;\nexport class SourceManager {\n    constructor(page) {\n        this.itemPerPage = page;\n        this.dataSource;\n        this.displaySource;\n        this.currentRecord;\n        this.sourceCache;\n        this.currentPage;\n        this.searchCriteria;\n        this.totalPage;\n    }\n    selectedRecord(item) {\n        this.currentRecord = item;\n    }\n    pageCount() {\n        this.totalPage = Math.ceil(this.dataSource.length / this.itemPerPage) || 1;\n        return this.totalPage;\n    }\n    nextPage() {\n        if (this.currentPage &lt; (this.pageCount() - 1)) {\n            this.currentPage = this.currentPage + 1;\n            this.showpage();\n        }\n    }\n    previeusPage() {\n        if (this.currentPage &gt; 0) {\n            this.currentPage = this.currentPage - 1;\n            this.showpage();\n        }\n    }\n    firstPage() {\n        this.currentPage = 0;\n        this.showpage();\n    };\n    lastPage() {\n        this.currentPage = this.pageCount() - 1;\n        this.showpage();\n    };\n    goToPage(page) {\n        this.currentPage = page;\n        this.showpage();\n        this.pageCount();\n    };\n    pageSearch(items) {\n        this.currentPage = 0;\n        this.dataSource = items;\n        this.showpage();\n        this.pageCount();\n    };\n    pageInit(items) {\n        this.currentPage = 0;\n        this.dataSource = items;\n        this.sourceCache = items;\n        this.showpage();\n        this.pageCount();\n    };\n    deleteItem(deleteIndex) {\n        this.sourceCache.splice(deleteIndex, 1);\n        this.pageInit(this.sourceCache);\n        this.firstPage();\n    }\n    showpage() {\n        var size = this.itemPerPage;\n        var start = this.currentPage * size;\n        this.displaySource = this.dataSource.slice(start, start + size);\n        if (this.displaySource.length) {\n            this.currentRecord = this.displaySource[0];\n            this.selectedRecord(this.currentRecord);\n            this.pageCount();\n        }\n\n        return this.displaySource;\n    };\n}\n",
    "group": "language-javascript"
  }
]